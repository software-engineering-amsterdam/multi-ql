QL - Edward Poot
===========

## Generated files
Please note that the files in the following directories are generated by GOCC (Go Parser Generator):

* parser
* lexer
* errors
* token
* util

## Generate lexer/parser
To generate the lexer/parser from the grammar, run the following from the root src directory:

```
gocc -a grammar/ql.bnf
```

All files in the aforementioned folders will be replaced if they already exist.

Currently, there is a bug in the parser generator library that upercases part of the package name when it shouldn't. Therefore, after generation is done all files containing the string `ql/token` should be changed to `ql/token` instead. You can do this quickly by using the [`rpl`](http://linux.die.net/man/1/rpl)  command line tool, e.g.:

```
rpl -R "ql/token" "ql/token" .
```

## Run tests
To run all tests, execute:

```
make test
```
This will run all tests, except the one in the top level dir. Due to the aforementioned dylib issue, first compile the test and then execute it. E.g.:
```
go test -c
./QL.test

## Build
To build the program, execute:

```
make build
```
## Clean
To clean up all binary executables, execute:

```
make clean
```

## Running
Due to the GUI library used (inclusion of dylib file path issue), the `go run` command can not be used to build and run afterwards. Just first do `go build main.go` and then execute `./main`.

```
go build main.go
./main
```

## Viewing documentation
All documentation can be viewed in your browser by visiting the url [`http://localhost:6060`](http://localhost:6060) after you've executed:

```
godoc -http=:6060
```

