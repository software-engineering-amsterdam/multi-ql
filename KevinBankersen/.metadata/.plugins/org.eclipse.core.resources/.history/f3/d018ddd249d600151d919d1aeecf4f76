package eu.bankersen.kevin.ql.ast.form;

import java.util.ArrayList;

import eu.bankersen.kevin.ql.ast.stat.AbstractStatement;
import eu.bankersen.kevin.ql.context.Context;

public class Block {

    private ArrayList<AbstractStatement> statements;

    public Block() {
	statements = new ArrayList<AbstractStatement>();
    }

    public void eval() {

	visible(true); // Inside a body meaning the above statement is true, show the questions.

	statements.forEach(statement -> statement.eval());
    }

    public void checkType() {

	statements.forEach(statement -> statement.checkType());

	visible(false); // We can use the visibility modifier to determine depth.
    }

    public void visible(Boolean vis) {
	statements.forEach(statement -> statement.visible(vis));
    }

    @Override
    public String toString() {

	StringBuilder sb = new StringBuilder();
	
	statements.forEach(statement -> sb.append(statement.toString()));
	
	return sb.toString();
    }

    public final void add(AbstractStatement statement) {
	statements.add(statement);
    }

    public final ArrayList<AbstractStatement> getStatements() {
	return statements;
    }
}
