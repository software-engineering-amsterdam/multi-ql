package eu.bankersen.kevin.ql.symbol_table;

import eu.bankersen.kevin.ql.ast.Identifier;
import eu.bankersen.kevin.ql.ast.Variable;
import eu.bankersen.kevin.ql.ast.expr.BooleanExpr;
import eu.bankersen.kevin.ql.ast.expr.Expr;
import eu.bankersen.kevin.ql.ast.expr.NumberExpr;
import eu.bankersen.kevin.ql.context.SymbolTable;

public class SymbolTableBuilder implements SymbolTableBuilderInterface {

    private final SymbolTable symboltable;

    public SymbolTableBuilder() {
	symboltable = new SymbolTable();
    }



    @Override
    public SymbolTableBuilder construct(Identifier data) {
	System.out.println("Found id");
	return null;
    }

    @Override
    public SymbolTableBuilder construct(Variable data) {
	System.out.println("Found Var");
	return null;
    }
    
    @Override
    public SymbolTableBuilder construct(NumberExpr data) {
	System.out.println(data);
	SymbolTableBuilder builder = data.lhs().buildSymbolTable(this);
	if (data.rhs() != null) {
	    return  data.lhs().buildSymbolTable(builder);
	} else {
	    return builder;
	}
    }
    
    @Override
    public SymbolTableBuilder construct(BooleanExpr data) {
	System.out.println(data);
	SymbolTableBuilder builder = data.lhs().buildSymbolTable(this);
	if (data.rhs() != null) {
	    return  data.lhs().buildSymbolTable(builder);
	} else {
	    return builder;
	}
    }
}
