package eu.bankersen.kevin.ql.util.testing.widget;

import java.util.ArrayList;
import java.util.List;

import javax.swing.JPanel;

import eu.bankersen.kevin.ql.interpreter.DataListener;
import eu.bankersen.kevin.ql.util.testing.ViewListener;

abstract class Widget implements DataListener {
    
    private final String name;
    protected final JPanel panel;
    private List<ViewListener> viewListeners;
    
    Widget(String name) {
	this.name = name;
	this.panel = new JPanel();
	this.viewListeners = new ArrayList<ViewListener>();
    }
    
    public JPanel build() {
	return panel;
    }
    
    protected void viewUpdate(Object value) {
	viewListeners.forEach(l -> l.viewUpdate(name, value));
    }
    
    public void addUIListener(ViewListener listener) {
	viewListeners.add(listener);
       }

}
