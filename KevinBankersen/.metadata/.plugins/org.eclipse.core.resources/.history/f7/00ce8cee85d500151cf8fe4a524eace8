package eu.bankersen.kevin.ql.symboltable;

import java.util.HashMap;
import java.util.HashSet;
import java.util.Set;

import eu.bankersen.kevin.ql.ast.Type;
import eu.bankersen.kevin.ql.testing.singletonTest;

public class Context {
    
    private static HashMap<String, Symbol> symbolTable;
    private static Set<Errors> errorList;
    
    //create an object of SingleObject
    private static singletonTest instance = new singletonTest();

    //make the constructor private so that this class cannot be
    //instantiated
    private singletonTest(){}

    //Get the only object available
    public static singletonTest getInstance(){
       return instance;
    }
    
    
    public Context() {
	symbolTable = new HashMap<>();
	errorList = new HashSet<>();
    }
    public final Symbol getSymbol(final String symbol) {
	return symbolTable.get(symbol);
    }
    
    public final Symbol addSymbol(final String symbol, Type type) {
	return symbolTable.put(symbol, new Symbol(type));
    }
    
    public final void updateSymbol(final String name, final Object value) {
	Symbol symbol = symbolTable.get(name);
	symbol.setValue(value);
	symbolTable.put(name, symbol);
    }

}